<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Celebrity Meet and Greet Form</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>

    <div class="form-container">
        <div id="success-msg" style="display: none; background-color: #d4edda; color: #155724; padding: 15px; border-radius: 4px; margin-bottom: 20px; text-align: center; border: 1px solid #c3e6cb; font-weight: bold;">
            Success! Your registration has been submitted.
        </div>

        <h1>Celebrity Meet and Greet Form</h1>
        <p class="description">Please fill out this form to register for a celebrity meet and greet event.</p>

        <form action="https://formspree.io/f/xpqabdjl" method="POST" id="meetGreetForm">
            <div class="form-group">
                <label>Name</label>
                <div class="row">
                    <div class="col">
                        <input type="text" name="first_name" required>
                        <span class="sub-label">First Name</span>
                    </div>
                    <div class="col">
                        <input type="text" name="last_name" required>
                        <span class="sub-label">Last Name</span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" name="email" placeholder="example@gmail.com" required>
                        <span class="sub-label">example@gmail.com</span>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" name="phone" placeholder="(000) 000-0000">
                        <span class="sub-label">Please enter a valid phone number.</span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label>Preferred Celebrity</label>
                        <select name="celebrity">
                            <option value="">Please Select</option>
                            <option value="singer1">Taylor Swift</option>
                            <option value="athlete1">Lionel Messi</option>
                            <option value="myself">Momoshiki!</option>
                            <option value="actor1">Tom Holland</option>
                        </select>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label>Event Date and Time</label>
                        <input type="date" name="event_date">
                        <span class="sub-label">Date</span>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>Address</label>
                <input type="text" name="address_1">
                <span class="sub-label">Street Address</span>
                
                <input type="text" name="address_2" class="mt-10">
                <span class="sub-label">Street Address Line 2</span>

                <div class="row mt-10">
                    <div class="col">
                        <input type="text" name="city">
                        <span class="sub-label">City</span>
                    </div>
                    <div class="col">
                        <input type="text" name="state">
                        <span class="sub-label">State / Province</span>
                    </div>
                </div>
                
                <div class="row mt-10">
                    <div class="col">
                        <input type="text" name="zip">
                        <span class="sub-label">Postal / Zip Code</span>
                    </div>
                    <div class="col"></div>
                </div>
            </div>

            <div class="form-group">
                <label>Number of Attendees</label>
                <input type="number" name="attendees" placeholder="e.g., 23">
            </div>

            <div class="form-group">
                <label>Additional Requests</label>
                <textarea name="requests" rows="5"></textarea>
            </div>

            <div class="form-group checkbox-group">
                <div class="checkbox-container">
                    <input type="checkbox" id="terms" required>
                    <label for="terms" class="inline-label">
    I agree to the <a href="javascript:void(0)" onclick="openTerms()" style="color: blue; text-decoration: underline;">Terms and Conditions</a>
</label>
                </div>
            </div>

            <button type="submit" class="submit-btn">Submit</button>
        </form>

        <script>
    // 1. Wait for the page to fully load
    window.addEventListener('load', function() {
        const form = document.getElementById('meetGreetForm');
        const successBox = document.getElementById('success-msg');

        if (form) {
            form.addEventListener('submit', function(e) {
                // 2. This PREVENTS the redirect to the Formspree page
                e.preventDefault(); 

                const data = new FormData(form);
                
                // 3. Send the data "behind the scenes"
                fetch(form.action, {
                    method: 'POST',
                    body: data,
                    headers: { 'Accept': 'application/json' }
                }).then(response => {
                    if (response.ok) {
                        // 4. Show YOUR green box instead of Formspree's page
                        successBox.style.display = 'block';
                        form.reset();
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    } else {
                        alert("There was a problem. Please try again.");
                    }
                });
            });
        }
    });

    function openTerms() {
    document.getElementById('termsModal').style.display = "block";
}

function closeTerms() {
    document.getElementById('termsModal').style.display = "none";
}

// Optional: Close the modal if they click outside the white box
window.onclick = function(event) {
    let modal = document.getElementById('termsModal');
    if (event.target == modal) {
        modal.style.display = "none";
    }
}

function openTerms() {
    document.getElementById('termsModal').style.display = "block";
}

function closeTerms() {
    document.getElementById('termsModal').style.display = "none";
}

        </script>
    </div>
<div id="termsModal" class="modal">
    <div class="modal-content">
        <h2>Event Code of Conduct & Terms</h2>
        <hr>
        <p><strong>1. Respectful Interaction:</strong> All attendees must treat celebrities and staff with respect. Harassment will result in immediate removal.</p>
        <p><strong>2. Photo Policy:</strong> One (1) photo per person is permitted using personal devices. Professional cameras are prohibited.</p>
        <p><strong>3. Security:</strong> All bags are subject to search. Physical contact is at the sole discretion of celebrity security.</p>
        <p><strong>4. Scheduling:</strong> Lineups are subject to change. Please arrive 15 minutes before your scheduled slot.</p>
        <p><strong>5. Data Privacy:</strong> We will only use your info to contact you regarding this event.</p>
        
        <button type="button" class="close-btn" onclick="closeTerms()">Close</button>
    </div>
</div>
</body>
</html>